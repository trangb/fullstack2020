{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","value","filter","onChange","handleFilter","PersonForm","onSubmit","addName","newName","handleNameChange","newNumber","handleNumberChange","type","Person","person","deletePerson","name","number","onClick","Persons","personsToShow","deleteName","map","p","key","id","baseUrl","axios","get","then","response","data","newObject","post","delete","put","infoStyle","color","fontStyle","fontSize","borderStyle","borderRadius","padding","marginBottom","errorStyle","Notification","message","messageType","style","App","useState","persons","setPersons","setNewName","setNewNumber","showAll","setShowAll","filterVal","setFilterVal","setMessage","setMessageType","useEffect","personService","initialPeople","toUpperCase","includes","event","target","preventDefault","some","window","confirm","find","changedPerson","returnedPerson","setTimeout","catch","error","concat","alert","returned","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1273089b.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n\r\n  return (\r\n    <div>\r\n      <form>\r\n        filter shown with\r\n        <input\r\n          value={props.filter}\r\n          onChange={props.handleFilter} />\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n  return (\r\n    <>\r\n    <h2> add a new</h2>\r\n    <form onSubmit={props.addName}>\r\n      <div>\r\n        name: <input value={props.newName}\r\n          onChange={props.handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={props.newNumber}\r\n          onChange={props.handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Person = ({person, deletePerson}) => {\r\n  return (\r\n    <div>\r\n      {person.name} {person.number}\r\n      <button onClick={deletePerson}>Delete</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Person\r\n","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({personsToShow, deleteName}) => {\r\n\r\n  return (\r\n    <div>\r\n    {personsToShow.map(p =>\r\n      <Person key={p.name} person={p} deletePerson={() => deleteName(p.id)}/>\r\n    )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons\r\n","import axios from 'axios'\r\n//const baseUrl = 'http://localhost:3001/persons'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id, newObject) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)  \r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\nexport default { getAll, create, deletePerson, update }","import React from 'react'\r\n\r\n\r\nconst infoStyle = {\r\n    color: 'green',\r\n    fontStyle: 'italic',\r\n    fontSize: 16,\r\n    borderStyle : 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n}\r\n\r\nconst errorStyle = {\r\n    color: 'red',\r\n    fontStyle: 'italic',\r\n    fontSize: 16,\r\n    borderStyle : 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n}\r\n\r\nconst Notification = ({ message, messageType }) => {\r\n    if (!message) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div style={messageType === 'error' ? errorStyle : infoStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [showAll, setShowAll] = useState(true)\r\n  const [filterVal, setFilterVal] = useState('')\r\n  const [message, setMessage] = useState('')\r\n  const [messageType, setMessageType] = useState('info')\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPeople => {\r\n        setPersons(initialPeople)\r\n      })\r\n  }, [])\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n    if (newName) {\r\n      if (persons.some(p => p.name === newName)) {\r\n        if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n          const person = persons.find(p => p.name === newName)\r\n          const changedPerson = { ...person, number: newNumber }\r\n          personService\r\n            .update(person.id, changedPerson)\r\n            .then(returnedPerson => {\r\n              setPersons(persons.map(p => p.name !== newName ? p : returnedPerson))\r\n              setNewName('')\r\n              setNewNumber('')\r\n\r\n              setMessage(`Updated ${newName}`)\r\n              setTimeout(() => {setMessage(null)}, 3000)\r\n            })\r\n            .catch(error => {\r\n              setMessage(`Information of ${newName} has already been removed from server`)\r\n              setMessageType('error')\r\n              setTimeout(() => {setMessage(null)}, 3000)\r\n            })\r\n    \r\n        } else {\r\n          setNewName('')\r\n          setNewNumber('')\r\n        }\r\n      } else {\r\n        const nameObject = {\r\n          name: newName,\r\n          number: newNumber\r\n        }\r\n\r\n        personService\r\n          .create(nameObject)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.concat(returnedPerson))\r\n            setNewName('')\r\n            setNewNumber('')\r\n\r\n            setMessage(`Added ${newName}`)\r\n            setMessageType('info')\r\n            setTimeout(() => {setMessage(null)}, 3000)\r\n          })\r\n      }\r\n    } else {\r\n      alert('Enter a name')\r\n      setNewNumber('')\r\n    }\r\n  }\r\n\r\n  const deleteName = (id) => {\r\n    const person = personsToShow.find(p => p.id === id)\r\n    if (window.confirm(`Delete ${person.name}?`)) {\r\n      personService\r\n        .deletePerson(id)\r\n        .then(returned => {\r\n          setPersons(persons.filter(p => p.id !== id))\r\n        })\r\n        .catch(error => {\r\n          alert(`${person.name} was already deleted`)\r\n        })\r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  }\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value);\r\n  }\r\n  const personsToShow = showAll ?\r\n    persons : persons.filter(p => {\r\n      return p.name.toUpperCase().includes(filterVal.toUpperCase())\r\n    });\r\n\r\n  const handleFilter = (event) => {\r\n    setFilterVal(event.target.value)\r\n    if (filterVal) {\r\n      setShowAll(false)\r\n    } else {\r\n      setShowAll(true)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} messageType={messageType} />\r\n\r\n      <Filter handleFilter={handleFilter} filter={filterVal} />\r\n\r\n      <PersonForm\r\n        addName={addName}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n\r\n      <Persons personsToShow={personsToShow} deleteName={deleteName} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}